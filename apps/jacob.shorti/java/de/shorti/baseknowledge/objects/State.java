package de.shorti.baseknowledge.objects;

/**
 * short-i Class generated by automatic ClassGenerator
 * Date: Wed Mar 14 14:59:41 GMT+01:00 2001
 */
import de.shorti.db.*;
import java.util.ArrayList;
import java.util.Iterator;
import java.sql.*;
import de.shorti.util.basic.*;
public class State extends _dbState
{
    static TraceDispatcher  trace = TraceFactory.getTraceDispatcher();

	/**
	 *  Method:      findByShortNameAndCountry(String _shortName)
	 *  Description:
	 *  Returns:     State
	 */
	public static State findByShortNameAndCountry(String _shortName, _dbCountry _country)
	{
		State result = null;
		SaveStatement  stmt;

		try
		{
			stmt  = ConnectionManager.getValid().createStatement("State.findByShortNameAndCountry");
			try
			{
				ResultSet s = stmt.executeQuery( "SELECT capital_id, shortName, name, country_id, id FROM State WHERE shortName='"+_shortName+"'" + " AND country_id='"+((_country==null)?"":_country.getId())+"'");
				if(s.next())
				{
					result = new State();
					result.capital_id= s.getString(1);
					result.shortName= s.getString(2);
					result.name= s.getString(3);
					result.country_id= s.getString(4);
					result.id= s.getString(5);
				}
			}
			catch(Exception exc)
			{
                trace.error(exc);
			}
			stmt.close();

		}
		catch (Exception ex)
		{
            trace.error(ex);
		}
		return result;
	}
}
